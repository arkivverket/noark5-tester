Klargjør kravet om bruk av CORS i REST-API-et
=============================================

 ------------------  ---------------------------------
           Prosjekt  NOARK 5 Tjenestegresesnitt
           Kategori  Versjon 1.0 beta
        Alvorlighet  protest
       Meldingstype  utelatt
    Brukerreferanse  pere@hungry.com
        Dokumentdel  4
         Sidenummer  9
        Linjenummer  n/a
    Innsendingsdato  ikke sendt inn
 ------------------  ---------------------------------

Denne teksten er del av en samling innspill til NOARK5-standarden
tilgjengelig fra [https://github.com/petterreinholdtsen/noark5-tester/](https://github.com/petterreinholdtsen/noark5-tester/).

Beskrivelse
-----------

Spesifikasjonens vedlegg 1 (konformitetskrav) på side 267 referer til
[http://rel.kxml.no/noark5/konformitetsniva/](http://rel.kxml.no/noark5/konformitetsniva/)
som inneholder foreløbig liste med konformitetsnivå.  Websiden lister
opp CORS Cross-origin resource sharing som et nivå 0-krav.  Hvis CORS
er et krav bør det nevnes i spesifikasjonen.

Spesifikasjonen bør videre forklare nærmere hvilke krav som gjelder
relatert til CORS, f.eks. hvilken versjon av CORS som kreves.  Et
relevant spørsmål i så måte er om det holder at HTTP-forespørselen
OPTIONS er implementert, eller om GET- og HEAD-responsene alltid skal
ha med Allow-hodefeltet som forklarer hvilke operasjoner brukeren har
tilgang til å bruke?  Det blir enklere for en API-klient hvis
Allow-feltet er satt og korrekt også for GET- og HEAD-responsene.

Ønsket endring
--------------

Det bør legges inn en beskrivelse enten under punkt 4 (Teknologi)
eller punkt 6 (Konsepter og Prinsipper) som forklarer hva som
forventes fra API-et når det gjelder CORS, samt referanse til aktuell
CORS-spesifikasjon.

FIXME inn med mer konkret tekstforslag?

> Tjenestegrensesnittet skal støtte CORS (Cross-Origin Resource
> Sharing) slik det er beskrevet på https://www.w3.org/TR/cors/ .
> Dette betyr at alle lenker skal støtte OPTIONS-forespørsler uten
> innlogging.
